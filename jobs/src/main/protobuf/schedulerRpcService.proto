syntax = "proto3";

package redsort.jobs.messages;

import "storage.proto";
import "error.proto";
import "google/protobuf/empty.proto";

service Scheduler {
  rpc RegisterWorker (WorkerHello) returns (SchedulerHello);
  rpc NotifyUp (google.protobuf.Empty) returns (google.protobuf.Empty);
  rpc HaltOnError(JobSystemError) returns (google.protobuf.Empty);
}

message WorkerHello {
  int32 wtid = 1;
  optional LocalStorageInfo storageInfo = 2;
}

message SchedulerHello {
  int32 mid = 1;
}